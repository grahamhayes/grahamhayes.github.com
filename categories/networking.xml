<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>graham.hayes.ie (Posts about networking)</title><link>http://graham.hayes.ie/</link><description></description><atom:link href="http://graham.hayes.ie/categories/networking.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Wed, 15 May 2019 17:54:21 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>WireGuard + UniFi</title><link>http://graham.hayes.ie/posts/wireguard-%2B-unifi/</link><dc:creator>Graham Hayes</dc:creator><description>&lt;figure&gt;&lt;img src="http://graham.hayes.ie/wireguard-logo.png"&gt;&lt;/figure&gt; &lt;div&gt;&lt;p&gt;I have been looking around for a good VPN solution to use on the road recently. I have a few
services running at home, that I really don't want on the internet (OctoPrint etc), but I want to use
remotely.&lt;/p&gt;
&lt;p&gt;This is as much documentation for future me as it is for anyone who stumbles across this page :)&lt;/p&gt;
&lt;p&gt;I had previously set up a L2TP Remote user VPN in the UniFi controller, but it had a few issues.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Roaming problems on mobile&lt;/li&gt;
&lt;li&gt;Battery usage on mobile&lt;/li&gt;
&lt;li&gt;Slow Speeds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I had heard of Wireguard a while ago (I think they had a stall near the OpenStack stall in FOSDEM
last year), but I had completely forgotten about them. It turns out some kind soul has created a
deb package to install WireGuard on Vyatta (which is what the USG is based on).&lt;/p&gt;
&lt;p&gt;&lt;a href="http://graham.hayes.ie/posts/wireguard-%2B-unifi/"&gt;Read more…&lt;/a&gt; (4 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>networking</category><category>unifi</category><category>vpn</category><guid>http://graham.hayes.ie/posts/wireguard-%2B-unifi/</guid><pubDate>Thu, 07 Feb 2019 22:52:26 GMT</pubDate></item><item><title>MiniDNS, TCP, and the internet</title><link>http://graham.hayes.ie/posts/minidns-tcp-and-the-internet/</link><dc:creator>Graham Hayes</dc:creator><description>&lt;div&gt;&lt;p&gt;We had &lt;a class="reference external" href="https://bugs.launchpad.net/designate/+bug/1552864"&gt;this bug&lt;/a&gt; come
in yesterday.&lt;/p&gt;
&lt;p&gt;It was a bit unexpected - as we tested it pretty extensively when it was being
developed.&lt;/p&gt;
&lt;p&gt;The line in question was this:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_05349e2a115947c4aeb9864f16aee00a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tcp_response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;In eventlet 0.17.x this behaved like the standard
&lt;code class="python"&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sendall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/code&gt; , instead of &lt;code class="python"&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;(It was &lt;a class="reference external" href="https://github.com/eventlet/eventlet/commit/c315ee86dac996ac533b738f7c8777f4d01a0472"&gt;this commit&lt;/a&gt; as it turns out - it was noted in the release notes &lt;a class="reference external" href="http://eventlet.net/doc/changelog.html#id5"&gt;here&lt;/a&gt; but we missed it)&lt;/p&gt;
&lt;p&gt;The other major problem is that the bug did not manifest itself until we pushed
the AXFR over a long range connection.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://graham.hayes.ie/posts/minidns-tcp-and-the-internet/"&gt;Read more…&lt;/a&gt; (2 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>bugs</category><category>eventlet</category><category>networking</category><category>openstack</category><guid>http://graham.hayes.ie/posts/minidns-tcp-and-the-internet/</guid><pubDate>Fri, 04 Mar 2016 20:50:00 GMT</pubDate></item></channel></rss>